<:Title>
  TODO

  <:Body>
    <div class="row">
      <div class="col-md-4">

        <h1>My List</h1>
        <br>
        <table class="todo-table">
          {{ page._todos.each_with_index do |todo, index| }}
          <!-- Use params to store the current index -->
          <tr
            e-click="params._index = index"
            class="{{ if (params._index || 0).to_i == index }}selected{{ end }}"
            >
            <td><input type="checkbox" checked="{{ todo._completed }}" /></td>
            <td class="{{ if todo._completed }}complete{{ end }}">{{ todo._name }}</td>
            <td><button e-click="todo.destroy">X</button></td>
          </tr>
          {{ end }}
        </table>
        <br>
        <form e-submit="add_todo" role="form">
          <div class="form-group">
            <label>New item</label>
            <input class="form-control" type="text" value="{{ page._new_todo }}" />
          </div>
        </form>
      </div>

      <!-- Display extra info -->
      <div class="col-md-8">
        {{ if current_todo }}
        <h2>{{ current_todo._name }}</h2>

        <textarea>{{ current_todo._description }}</textarea>
        {{ end }}
      </div>
    </div>
